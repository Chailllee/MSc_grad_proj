"0","# 主图"
"0","main_plot <- ggplot() +"
"0","  geom_sf(data = filtered_boroughs, fill = ""#756bb1"", color = ""white"", size = 0.5) +"
"0","  theme_void() +"
"0","  theme(plot.margin = unit(c(1, 1, 1, 1), ""cm"")) +"
"0","  annotation_scale(location = ""br"", width_hint = 0.5) +"
"0","  annotation_north_arrow(location = ""tr"", which_north = ""true"", "
"0","                         pad_x = unit(0.5, ""cm""), pad_y = unit(0.5, ""cm""),"
"0","                         style = north_arrow_fancy_orienteering)"
"0",""
"0","# 整个伦敦地图的预览图"
"0","preview_plot <- ggplot() +"
"0","  geom_sf(data = lon_boro, fill = ""lightgray"", color = NA) +"
"0","  geom_sf(data = filtered_boroughs, fill = ""#756bb1"", color = ""white"", size = 0.5) +"
"0","  theme_void() +"
"0","  theme(plot.margin = unit(c(0, 0, 0, 0), ""cm""))"
"0",""
"0","# 把预览图加到主图的右下角"
"0","inset_grob <- ggplotGrob(preview_plot)"
"0","main_plot_with_inset <- main_plot + "
"0","  annotation_custom(grob = inset_grob,"
"0","                     xmin = 0.7, xmax = 1.2, ymin = -0.3, ymax = 0.2)"
"0",""
"0","# 添加比例尺"
"0","main_plot_with_scale <- main_plot_with_inset + annotation_scale(location = ""bl"", width_hint = 0.5)"
"0",""
"0","# 绘制最终图像"
"0","print(main_plot_with_inset)"
"0",""
